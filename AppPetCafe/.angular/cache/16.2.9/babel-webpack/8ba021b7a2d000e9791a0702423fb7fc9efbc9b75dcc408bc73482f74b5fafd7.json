{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ListaClientesComponent = class ListaClientesComponent {\n  constructor(clientesService, router) {\n    this.clientesService = clientesService;\n    this.router = router;\n    this.tituloFormulario = '';\n    this.clientes = [];\n  }\n  ngOnInit() {\n    this.obterClientes();\n  }\n  enviarFormulario() {\n    const cliente = this.formulario.value;\n    this.clientesService.cadastrar(cliente).subscribe(result => {\n      alert('Cliente inserido com sucesso.');\n      this.router.navigate([\"/home\"]);\n    });\n  }\n  obterClientes() {\n    this.clientesService.listar().subscribe(clientes => {\n      this.clientes = clientes;\n    }, error => {\n      console.error('Erro ao obter clientes', error);\n    });\n  }\n  removerCliente(cpf) {\n    this.clientesService.excluir(cpf).subscribe(() => {\n      console.log('Cliente removido com sucesso!');\n      this.obterClientes();\n    }, error => {\n      console.error('Erro ao remover cliente', error);\n    });\n  }\n  abrirModalEditCliente(fornecedor) {\n    if (fornecedor) {\n      const initialState = {\n        fornecedor: {\n          ...fornecedor\n        }\n      };\n      this.modalRef = this.modalService.show(EditfornmodalComponent, {\n        initialState\n      });\n      if (this.modalRef.content?.onAtualizado) {\n        this.modalRef.content.onAtualizado.subscribe(() => {\n          this.obterFornecedores();\n          this.modalRef.hide();\n        });\n      }\n    }\n  }\n};\nListaClientesComponent = __decorate([Component({\n  selector: 'app-clientes',\n  templateUrl: './lista-clientes.component.html',\n  styleUrls: ['./lista-clientes.component.css']\n})], ListaClientesComponent);","map":{"version":3,"names":["Component","ListaClientesComponent","constructor","clientesService","router","tituloFormulario","clientes","ngOnInit","obterClientes","enviarFormulario","cliente","formulario","value","cadastrar","subscribe","result","alert","navigate","listar","error","console","removerCliente","cpf","excluir","log","abrirModalEditCliente","fornecedor","initialState","modalRef","modalService","show","EditfornmodalComponent","content","onAtualizado","obterFornecedores","hide","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Eduardo\\Documents\\GitHub\\PetCafe\\apppetcafe\\src\\app\\components\\lista-clientes\\lista-clientes.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { ClientesService } from 'src/app/Servico/ClienteServico/clientes.service';\nimport { Cliente } from 'src/app/Model/Cliente';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-clientes',\n  templateUrl: './lista-clientes.component.html',\n  styleUrls: ['./lista-clientes.component.css']\n})\nexport class ListaClientesComponent implements OnInit {\n  formulario: any;\n  tituloFormulario: string = '';\n  clientes: Cliente[]=[];\n  \n  constructor(private clientesService : ClientesService, private router : Router) { }\n\n  ngOnInit(): void {\n  this.obterClientes();\n  }\n\n  enviarFormulario(): void {\n  const cliente : Cliente = this.formulario.value;\n  this.clientesService.cadastrar(cliente).subscribe(result => {\n  alert('Cliente inserido com sucesso.');\n  this.router.navigate([\"/home\"]);\n  })\n  }\n  obterClientes(): void {\n    this.clientesService.listar().subscribe(\n      (clientes) => {\n        this.clientes = clientes;\n      },\n      (error) => {\n        console.error('Erro ao obter clientes', error);\n      }\n    );\n    \n  }\n  removerCliente(cpf: string): void {\n    this.clientesService.excluir(cpf).subscribe(\n      () => {\n        console.log('Cliente removido com sucesso!');\n        this.obterClientes();\n      },\n      (error) => {\n        console.error('Erro ao remover cliente', error);\n      }\n    );\n  }\n\n  abrirModalEditCliente(fornecedor: Fornecedor): void {\n    if (fornecedor) {\n      const initialState = { fornecedor: { ...fornecedor } };\n\n      this.modalRef = this.modalService.show(EditfornmodalComponent, {\n        initialState,\n      });\n\n      if (this.modalRef.content?.onAtualizado) {\n        this.modalRef.content.onAtualizado.subscribe(() => {\n          this.obterFornecedores();\n\n          this.modalRef.hide();\n        });\n      }\n    }\n  }\n\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAKjCC,YAAoBC,eAAiC,EAAUC,MAAe;IAA1D,KAAAD,eAAe,GAAfA,eAAe;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAHrE,KAAAC,gBAAgB,GAAW,EAAE;IAC7B,KAAAC,QAAQ,GAAY,EAAE;EAE4D;EAElFC,QAAQA,CAAA;IACR,IAAI,CAACC,aAAa,EAAE;EACpB;EAEAC,gBAAgBA,CAAA;IAChB,MAAMC,OAAO,GAAa,IAAI,CAACC,UAAU,CAACC,KAAK;IAC/C,IAAI,CAACT,eAAe,CAACU,SAAS,CAACH,OAAO,CAAC,CAACI,SAAS,CAACC,MAAM,IAAG;MAC3DC,KAAK,CAAC,+BAA+B,CAAC;MACtC,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC,CAAC;EACF;EACAT,aAAaA,CAAA;IACX,IAAI,CAACL,eAAe,CAACe,MAAM,EAAE,CAACJ,SAAS,CACpCR,QAAQ,IAAI;MACX,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,EACAa,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EAEH;EACAE,cAAcA,CAACC,GAAW;IACxB,IAAI,CAACnB,eAAe,CAACoB,OAAO,CAACD,GAAG,CAAC,CAACR,SAAS,CACzC,MAAK;MACHM,OAAO,CAACI,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAAChB,aAAa,EAAE;IACtB,CAAC,EACAW,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACH;EAEAM,qBAAqBA,CAACC,UAAsB;IAC1C,IAAIA,UAAU,EAAE;MACd,MAAMC,YAAY,GAAG;QAAED,UAAU,EAAE;UAAE,GAAGA;QAAU;MAAE,CAAE;MAEtD,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACC,YAAY,CAACC,IAAI,CAACC,sBAAsB,EAAE;QAC7DJ;OACD,CAAC;MAEF,IAAI,IAAI,CAACC,QAAQ,CAACI,OAAO,EAAEC,YAAY,EAAE;QACvC,IAAI,CAACL,QAAQ,CAACI,OAAO,CAACC,YAAY,CAACnB,SAAS,CAAC,MAAK;UAChD,IAAI,CAACoB,iBAAiB,EAAE;UAExB,IAAI,CAACN,QAAQ,CAACO,IAAI,EAAE;QACtB,CAAC,CAAC;;;EAGR;CAED;AA3DYlC,sBAAsB,GAAAmC,UAAA,EALlCpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWtC,sBAAsB,CA2DlC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { formatDate } from '@angular/common';\nexport let AdocoesComponent = class AdocoesComponent {\n  constructor(adocaoService, clienteService, animalService, router, fb) {\n    this.adocaoService = adocaoService;\n    this.clienteService = clienteService;\n    this.animalService = animalService;\n    this.router = router;\n    this.fb = fb;\n    this.tituloFormulario = '';\n  }\n  ngOnInit() {\n    this.tituloFormulario = 'Nova Adocao';\n    this.clienteService.listar().subscribe(clientes => {\n      this.clientes = clientes;\n      if (this.clientes && this.clientes.length > 0) {\n        this.formularioAdocao.get('cpf')?.setValue(this.clientes[0].cpf);\n      }\n    });\n    this.animalService.listar().subscribe(animais => {\n      this.animais = animais;\n      if (this.animais && this.animais.length > 0) {\n        this.formularioAdocao.get('id')?.setValue(this.animais[0].id);\n      }\n    });\n    this.formularioAdocao = this.fb.group({\n      clienteCPF: [null],\n      animalID: [null],\n      data: [null],\n      hojeCheckbox: [false]\n    });\n    this.formularioAdocao.get('hojeCheckbox').valueChanges.subscribe(value => {\n      if (value) {\n        const dataAtual = formatDate(new Date(), 'dd/MM/yyyy', 'en-US');\n        this.formularioAdocao.get('data').setValue(dataAtual);\n      } else {\n        this.formularioAdocao.get('data').setValue(null);\n      }\n    });\n  }\n  enviarFormulario() {\n    const adocao = this.formularioAdocao.value;\n    console.log('Dados da adoção:', adocao);\n    this.adocaoService.cadastrar(adocao).subscribe(result => {\n      alert('Adoção registrada com sucesso.');\n      this.router.navigate(['/home']);\n    });\n  }\n};\nAdocoesComponent = __decorate([Component({\n  selector: 'app-adocoes',\n  templateUrl: './adocoes.component.html',\n  styleUrls: ['./adocoes.component.css']\n})], AdocoesComponent);","map":{"version":3,"names":["Component","formatDate","AdocoesComponent","constructor","adocaoService","clienteService","animalService","router","fb","tituloFormulario","ngOnInit","listar","subscribe","clientes","length","formularioAdocao","get","setValue","cpf","animais","id","group","clienteCPF","animalID","data","hojeCheckbox","valueChanges","value","dataAtual","Date","enviarFormulario","adocao","console","log","cadastrar","result","alert","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Eduardo\\Documents\\GitHub\\PetCafe\\apppetcafe\\src\\app\\components\\adocoes\\adocoes.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { formatDate } from '@angular/common';\r\nimport { PreloadAllModules, Router } from '@angular/router';\r\nimport { Observer } from 'rxjs';\r\nimport { Animal } from 'src/app/Model/Animal';\r\nimport { Cliente } from 'src/app/Model/Cliente';\r\nimport { Adocao } from 'src/app/Model/Adocao';\r\nimport { AdocoesService } from 'src/app/Servico/AdocaoServico/adocoes.service';\r\nimport { ClientesService } from 'src/app/Servico/ClienteServico/clientes.service';\r\nimport { AnimaisService } from 'src/app/Servico/AnimalServico/animais.service';\r\n\r\n@Component({\r\n  selector: 'app-adocoes',\r\n  templateUrl: './adocoes.component.html',\r\n  styleUrls: ['./adocoes.component.css'],\r\n})\r\nexport class AdocoesComponent implements OnInit {\r\n  formularioAdocao: any;\r\n  tituloFormulario: string = '';\r\n  clientes: Array<Cliente> | undefined;\r\n  animais: Array<Animal> | undefined;\r\n\r\n  constructor(\r\n    private adocaoService: AdocoesService,\r\n    private clienteService: ClientesService,\r\n    private animalService: AnimaisService,\r\n    private router: Router,\r\n    private fb: FormBuilder\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.tituloFormulario = 'Nova Adocao';\r\n    \r\n    this.clienteService.listar().subscribe((clientes) => {\r\n      this.clientes = clientes;\r\n      if (this.clientes && this.clientes.length > 0) {\r\n        this.formularioAdocao.get('cpf')?.setValue(this.clientes[0].cpf);\r\n      }\r\n    });\r\n\r\n    this.animalService.listar().subscribe((animais) => {\r\n      this.animais = animais;\r\n      if (this.animais && this.animais.length > 0) {\r\n        this.formularioAdocao.get('id')?.setValue(this.animais[0].id);\r\n      }\r\n    });\r\n    this.formularioAdocao = this.fb.group({\r\n      clienteCPF: [null],\r\n      animalID: [null],\r\n      data: [null],\r\n      hojeCheckbox: [false]\r\n    });\r\n  \r\n  \r\n  this.formularioAdocao.get('hojeCheckbox').valueChanges.subscribe((value: any) => {\r\n    if (value) {\r\n      const dataAtual = formatDate(new Date(), 'dd/MM/yyyy', 'en-US');\r\n      this.formularioAdocao.get('data').setValue(dataAtual);\r\n    } else {\r\n      this.formularioAdocao.get('data').setValue(null);\r\n    }\r\n  });\r\n}\r\n\r\n  enviarFormulario(): void {\r\n    const adocao: Adocao = this.formularioAdocao.value;\r\n    console.log('Dados da adoção:', adocao);\r\n    this.adocaoService.cadastrar(adocao).subscribe((result) => {\r\n      alert('Adoção registrada com sucesso.');\r\n      this.router.navigate(['/home']);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}